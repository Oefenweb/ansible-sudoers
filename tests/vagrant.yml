# test file for sudoers
---
- hosts: all
  remote_user: vagrant
  sudo: true
  roles:
    - sudoers
  vars:
    sudoers_sudoers:
      defaults:
        - env_reset
        - exempt_group=sudo
        - mail_badpass
        - secure_path="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
      host_aliases:
        - alias: CUNETS
          list: 128.138.0.0/255.255.0.0
        - alias: SERVERS
          list: master, mail, www, ns
      user_aliases:
        - alias: FULLTIMERS
          list: millert, mikef, dowdy
        - alias: PARTTIMERS
          list: bostley, jwfox, crawl
      cmnd_aliases:
        - alias: KILL
          list: /usr/bin/kill
        - alias: HALT
          list: /usr/sbin/halt
      privileges:
        - name: root
          entry: "ALL=(ALL:ALL) ALL"
        - name: "%admin"
          entry: "ALL=(ALL) ALL"
        - name: "%sudo"
          entry: "ALL=NOPASSWD:ALL"
    sudoers_sudoers_d_files:
      test:
        defaults:
          - env_reset
          - exempt_group=sudo
          - mail_badpass
          - secure_path="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
        host_aliases:
          - alias: WORKSTATIONS
            list: 128.138.0.0/255.255.0.0
        privileges:
          - name: test
            entry: "ALL=(ALL:ALL) ALL"
